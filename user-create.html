<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Create User - Les Tahfizh</title>

    <!-- Font Awesome -->
    <link
      href="assets/vendor/fontawesome-free/css/all.min.css"
      rel="stylesheet"
    />
    <!-- SB Admin 2 CSS -->
    <link href="assets/css/sb-admin-2.min.css" rel="stylesheet" />
    <link href="assets/css/custom.css" rel="stylesheet" />
    <link href="assets/css/create-user-custom.css" rel="stylesheet" />
    <!-- DataTables CSS -->
    <link
      href="assets/vendor/datatables/dataTables.bootstrap4.min.css"
      rel="stylesheet"
    />
  </head>

  <body id="page-top">
    <div id="wrapper">
      <!-- ================= SIDEBAR ================= -->
      <ul
        class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion"
        id="accordionSidebar"
      >
        <!-- Brand -->
        <a
          class="sidebar-brand d-flex align-items-center justify-content-center"
          href="index.html"
        >
          <div class="sidebar-brand-icon">
            <i class="fas fa-mosque"></i>
          </div>
          <div class="sidebar-brand-text mx-3">Tahfizh App</div>
        </a>
        <hr class="sidebar-divider my-0" />

        <li class="nav-item">
          <a class="nav-link" href="index.html">
            <i class="fas fa-fw fa-home"></i>
            <span>Dashboard</span>
          </a>
        </li>

        <hr class="sidebar-divider" />
        <div class="sidebar-heading">Menu Utama</div>

        <li class="nav-item">
          <a class="nav-link" href="peserta.html">
            <i class="fas fa-fw fa-users"></i>
            <span>Data Peserta</span>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="hafalan.html">
            <i class="fas fa-fw fa-book"></i>
            <span>Input & List Hafalan</span>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="riwayat-hafalan.html">
            <i class="fas fa-fw fa-history"></i>
            <span>Riwayat Hafalan</span>
          </a>
        </li>

        <!-- Absensi -->
        <li class="nav-item">
          <a
            class="nav-link collapsed"
            href="#"
            data-toggle="collapse"
            data-target="#collapseAbsensi"
            aria-expanded="false"
            aria-controls="collapseAbsensi"
          >
            <i class="fas fa-calendar-check"></i>
            <span>Absensi</span>
          </a>

          <div
            id="collapseAbsensi"
            class="collapse"
            data-parent="#accordionSidebar"
          >
            <div class="bg-white py-2 collapse-inner rounded">
              <h6 class="collapse-header">Absensi Peserta</h6>

              <a class="collapse-item" href="absensi.html"> Input Absensi </a>

              <a class="collapse-item" href="daftar-absensi.html">
                Daftar Kehadiran
              </a>

              <a class="collapse-item" href="rekap-absensi.html">
                Rekap Kehadiran
              </a>
            </div>
          </div>
        </li>

        <hr class="sidebar-divider d-none d-md-block" />

        <li class="nav-item active">
          <a class="nav-link" href="user-create.html">
            <i class="fas fa-user-plus"></i>
            <span>Create User</span>
          </a>
        </li>

        <hr class="sidebar-divider d-none d-md-block" />

        <li class="nav-item">
          <a class="nav-link text-danger" id="logoutBtn" href="login.html">
            <i class="fas fa-fw fa-sign-out-alt"></i>
            <span>Logout</span>
          </a>
        </li>
      </ul>
      <!-- ================= END SIDEBAR ================= -->

      <!-- ================= CONTENT WRAPPER ================= -->
      <div id="content-wrapper" class="d-flex flex-column">
        <!-- ================= TOPBAR ================= -->
        <nav class="navbar navbar-expand navbar-light bg-white topbar shadow">
          <div class="d-flex align-items-center">
            <h1 id="pageTitle" class="topbar-title">
              <i class="fas fa-user-plus"></i>
              <span class="topbar-name">Manajemen User</span>
            </h1>
          </div>
        </nav>
        <!-- ================= END TOPBAR ================= -->

        <!-- ================= MAIN SCROLL AREA ================= -->
        <div class="main-scroll">
          <div id="content">
            <div class="container-fluid mt-4">
              <h3
                class="mb-4 d-flex justify-content-between align-items-center"
              >
                <button
                  class="btn btn-primary"
                  data-toggle="modal"
                  data-target="#addUserModal"
                >
                  <i class="fas fa-user-plus"></i> Tambah User
                </button>
              </h3>

              <!-- LIST USER -->
              <div class="user-table-card table-wrapper">
                <div class="table-responsive table-wrapper">
                  <table id="tableUsers" class="table user-table">
                    <thead>
                      <tr>
                        <th>#</th>
                        <th>Username</th>
                        <th>Role</th>
                        <th>Peserta (Anak)</th>
                        <th>Dibuat</th>
                        <th>Aksi</th>
                      </tr>
                    </thead>
                    <tbody></tbody>
                  </table>
                </div>
              </div>

              <!-- CARD VIEW (MOBILE) -->
              <div id="userCardWrapper" class="card-wrapper"></div>
            </div>
          </div>
        </div>
        <!-- ================= END MAIN SCROLL AREA ================= -->

        <!-- ================= FOOTER ================= -->
        <footer class="footer">
          <span>© 2026 Les Tahfizh — Dzah Fitriani</span>
        </footer>
        <!-- ================= END FOOTER ================= -->

        <!-- Modal Tambah User -->
        <div
          class="modal fade"
          id="addUserModal"
          tabindex="-1"
          role="dialog"
          aria-hidden="true"
        >
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <form id="userForm">
                <div class="modal-header">
                  <h5 class="modal-title">Tambah User</h5>
                  <button
                    type="button"
                    class="close"
                    data-dismiss="modal"
                    aria-label="Close"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <!--modal body-->
                <div class="modal-body">
                  <div class="form-group">
                    <label>Username</label>
                    <input
                      type="text"
                      id="username"
                      class="form-control"
                      placeholder="Username"
                    />
                  </div>
                  <div class="form-group">
                    <label>Password</label>
                    <div class="input-group">
                      <input
                        type="password"
                        id="password"
                        class="form-control"
                        placeholder="Password"
                      />
                      <div class="input-group-append">
                        <button
                          type="button"
                          class="btn btn-outline-secondary"
                          id="togglePassword"
                        >
                          <i class="fas fa-eye"></i>
                        </button>
                      </div>
                    </div>
                  </div>

                  <!-- ... di dalam modal-body Tambah User -->
                  <div class="form-group">
                    <label>Role</label>
                    <select id="role" class="form-control">
                      <option value="admin">Admin</option>
                      <option value="ustadz">Ustadz</option>
                      <option value="ortu">Ortu</option>
                    </select>
                  </div>

                  <!-- Dropdown pilih peserta, tampil hanya saat role == ortu -->
                  <div class="form-group d-none" id="formPesertaWrapper">
                    <label>Pilih Peserta (Anak)</label>
                    <select id="peserta_id" class="form-control">
                      <option value="">-- Pilih Peserta --</option>
                      <!-- opsi akan diisi dinamis lewat JS -->
                    </select>
                  </div>
                </div>
                <!--end modal body-->
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-dismiss="modal"
                  >
                    Batal
                  </button>
                  <button type="submit" class="btn btn-primary">Simpan</button>
                </div>
              </form>
            </div>
          </div>
        </div>
        <!-- Modal Edit User -->
        <div class="modal fade" id="modalEditUser" tabindex="-1">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Edit User</h5>
                <button type="button" class="close" data-dismiss="modal">
                  &times;
                </button>
              </div>

              <div class="modal-body">
                <input type="hidden" id="editUserId" />

                <div class="form-group">
                  <label>Username</label>
                  <input type="text" id="editUsername" class="form-control" />
                </div>

                <div class="form-group">
                  <label>Role</label>
                  <select id="editRole" class="form-control">
                    <option value="admin">Admin</option>
                    <option value="ustadz">Ustadz</option>
                    <option value="ortu">Ortu</option>
                  </select>
                </div>

                <div class="form-group d-none" id="editFormPesertaWrapper">
                  <label>Pilih Peserta (Anak)</label>
                  <select id="edit_peserta_id" class="form-control">
                    <option value="">-- Pilih Peserta --</option>
                  </select>
                </div>

                <div class="form-group">
                  <label
                    >Password Baru
                    <small>(kosongkan jika tidak ingin ganti)</small></label
                  >
                  <div class="input-group">
                    <input
                      type="password"
                      id="editPassword"
                      class="form-control"
                    />
                    <div class="input-group-append">
                      <button
                        class="btn btn-secondary"
                        type="button"
                        id="toggleEditPassword"
                      >
                        <i class="fa fa-eye"></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <div class="modal-footer">
                <button class="btn btn-primary" id="btnSaveEditUser">
                  Simpan
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- End Modal -->
      </div>
    </div>

    <!-- JS Dependencies -->
    <script src="assets/vendor/jquery/jquery.min.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/datatables/jquery.dataTables.min.js"></script>
    <script src="assets/vendor/datatables/dataTables.bootstrap4.min.js"></script>
    <script src="assets/vendor/sweetalert2/sweetalert2.all.min.js"></script>
    <script src="assets/vendor/axios/axios.min.js"></script>

    <!-- App Scripts -->
    <script src="assets/js/api.js"></script>
    <script src="assets/js/auth.js"></script>
    <script src="assets/js/user-create.js"></script>
  </body>
</html>
